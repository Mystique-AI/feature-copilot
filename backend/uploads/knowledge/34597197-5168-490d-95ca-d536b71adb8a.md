# MYSTiQUE Team UI - Screen Functionalities Documentation

This document provides a comprehensive overview of all screens and their functionalities in the MYSTiQUE Team front-end application.

---

## Table of Contents

1. [Authentication](#1-authentication)
2. [Dashboard](#2-dashboard)
3. [Chat & Document](#3-chat--document)
4. [Requests](#4-requests)
5. [Data Rooms](#5-data-rooms)
6. [Integrations](#6-integrations)
7. [User & Access Management](#7-user--access-management)
8. [Role Management](#8-role-management)
9. [Teams & Team Management](#9-teams--team-management)
10. [AI Team Builder](#10-ai-team-builder)
11. [Billing & Payments](#11-billing--payments)
12. [User Management (Organization)](#12-user-management-organization)
13. [Utility Screens](#13-utility-screens)

---

## 1. Authentication

**Route:** `/`

### Functionalities

- **Sign in with Microsoft** - OAuth authentication via Azure AD
- **Sign in with Google** - OAuth authentication via Google
- **Landing page display** - Shows product benefits and branding
- **Benefits showcase** - Displays four key benefits:
  - Faster, Smarter Decisions
  - Do More, Deliver Faster
  - Always-On Execution
  - Reliable, Audit-Ready Outcomes

---

## 2. Dashboard

**Route:** `/dashboard`

### Functionalities

- **Personalized greeting** - Displays welcome message with user's name
- **Quick action cards** - Two main action items:
  - **Ask AI Team** - Navigate to chat or request creation
  - **Upload Files** - Navigate to data rooms
- **Recent activity table** - Shows recent team chats or requests
- **Infinite scroll** - Loads more session data on scroll
- **Access control** - Permission-based visibility for features
- **Request management mode** - Conditional routing based on team configuration

---

## 3. Chat & Document

**Route:** `/chats/[chatId]`, `/chats/[chatId]/doc-gen`, `/chats/[chatId]/review-data`

### Functionalities

- **Tab-based interface** - Switch between Chat, Document, and Review tabs
- **Real-time chat** - Send messages to AI team
- **File upload** - Attach files via button or drag-and-drop
- **Document editor** - Edit and view generated documents
- **Markdown export** - Convert editor content to markdown
- **Document download** - Download generated documents
- **Review mode** - Review extracted data with PDF/document viewer
- **Streaming responses** - Real-time AI response streaming
- **Session history** - Load and continue previous chat sessions
- **Text/file drag-and-drop** - Drop text or files directly into chat

---

## 4. Requests

**Route:** `/requests`, `/requests/new`, `/requests/[sessionId]/[requestId]`

### Request List Page

- **Request table** - View all requests with status, date, step, creator, and progress
- **Search** - Search through requests
- **Filter by status** - Filter requests by status (pending, completed, failed, etc.)
- **Filter by step** - Filter by workflow step
- **Sort** - Sort requests by various columns
- **Pagination** - Navigate through paginated results
- **Refresh** - Manual refresh of request list
- **Row click navigation** - Click to view request details

### Request Details Page

- **Split-pane view** - Resizable panels for details and chat
- **Request Details tab** - View complete request information
- **Audit Trail tab** - View request activity history
- **Back navigation** - Return to requests list
- **Status badge** - Visual status indicator
- **Refresh** - Reload request data
- **Chat interface** - Continue conversation within request context

### New Request

- **Chat-based request creation** - Create requests via AI conversation
- **File attachments** - Upload supporting documents
- **Real-time processing** - Stream request processing updates

---

## 5. Data Rooms

**Route:** `/data-room`, `/data-room/uploads/[folderId]/[dataRoomName]`

### Data Room List

- **Data room table** - List all data rooms with name, file count, and dates
- **Create data room** - Create new data room with custom configuration
- **Search** - Search through data rooms
- **Sort** - Sort by name or date
- **Pagination** - Navigate through results
- **Vector indexing option** - Enable AI indexing for data rooms

### Data Room Detail (File List)

- **File table** - View files within a data room
- **Upload files** - Add new files to data room
- **Search files** - Search within data room
- **Breadcrumb navigation** - Navigate back to data room list
- **Sort** - Sort files by name or date
- **Pagination** - Navigate through file list
- **File actions** - View, download, or delete files

---

## 6. Integrations

**Route:** `/integrations`, `/integrations/explore`

### Active Integrations

- **Integration list** - View currently active integrations
- **Explore button** - Navigate to explore available integrations
- **Integration cards** - Display integration status and details

### Explore Integrations

- **Category sidebar** - Filter integrations by category
- **Search** - Search for specific integrations
- **Popular integrations** - View most used integrations
- **Integration cards** - Browse available integrations
- **Category accordion** - Expandable category navigation
- **Error handling** - Display OAuth errors from integration attempts

---

## 7. User & Access Management

**Route:** `/manage-access/users`

### Functionalities

- **All Members tab** - View all team members with roles and status
- **Invited tab** - View pending invitations
- **Member search** - Search users by name or email
- **Invite users** - Send invitations to new members
- **Role assignment** - Assign or change user roles
- **Remove members** - Remove users from team
- **Pagination** - Navigate through member lists
- **Sort** - Sort members by name, email, or role
- **Access control** - Permission-based actions

---

## 8. Role Management

**Route:** `/manage-access/roles`

### Functionalities

- **Role list table** - View all roles with name and creation date
- **Search roles** - Search for specific roles
- **Edit role** - Modify role permissions
- **Delete role** - Remove roles (except Owner and Member)
- **Role permissions form** - Configure menu and feature access
- **Pagination** - Navigate through role list
- **Sort** - Sort roles by name or date
- **Access control** - Permission-based role management

---

## 9. Teams & Team Management

**Route:** `/teamlist`, `/teamlist/marketplace`, `/teamlist/manageTeamlist`

### Teams List

- **Team grid/cards** - Browse available AI teams
- **Category sidebar** - Filter teams by category
- **Search** - Search for teams
- **Infinite scroll** - Load more teams on scroll
- **Team selection** - Select team to work with

### Team Marketplace

- **Marketplace teams** - Browse all available teams
- **Team discovery** - Find new AI teams
- **Search** - Search marketplace

### Manage Teams

- **Published teams accordion** - View published teams
- **Unpublished teams accordion** - View draft teams
- **Table/Card view toggle** - Switch between view modes
- **Search** - Search managed teams
- **Load more** - Pagination for team lists
- **Team list table** - Tabular view of teams

### Organization User Management

**Route:** `/teamlist/manage-org-user`

- **Organization member management** - Manage users at organization level
- **Same features as User Access** - With organization scope

---

## 10. AI Team Builder

**Route:** `/ai-team-builder/graph/[graph_id]`, `/ai-team-builder/run/[chatId]`, `/ai-team-builder/channel/[channel_type]`, `/ai-team-builder/channel/[channel_type]/set-channel`

### Workflow Editor

- **Visual workflow builder** - React Flow based node editor
- **Node management** - Add, remove, configure workflow nodes
- **Edge connections** - Connect workflow steps
- **Workflow form** - Configure selected node properties
- **Zoom controls** - Pan and zoom the workflow canvas
- **Workflow header** - Save and manage workflow

### Run/Test

- **Chat list sidebar** - View test conversation history
- **Chat interface** - Test workflow with conversations
- **Workflow header** - Navigation and controls

### Channels

- **Active channels** - View configured channels
- **All channels** - Browse available channel types
- **Channel search** - Search for channels
- **Channel configuration** - Set up channel parameters

### Set Channel

- **Channel setup form** - Configure channel details
- **Load saved config** - Restore channel configuration from storage

---

## 11. Billing & Payments

**Route:** `/billing`, `/billing/change-plan`

### Billing Dashboard

- **Transactions tab** - View payment history with:
  - Date, Transaction ID, Description
  - Credits, Payment Mode, Status, Amount
- **Credits Usage tab** - View credit consumption with:
  - Date, Request Number, AI Team
  - Units Consumed, Credits Used, Username
- **Credits progress bar** - Visual credit balance indicator
- **Buy Credits button** - Purchase additional credits (online mode)
- **Change Plan button** - Navigate to plan selection
- **Invoice download** - Download transaction invoices
- **Pagination** - Navigate through transaction history
- **Sort** - Sort transactions by date or amount

### Change Plan

- **Plan grid** - View available subscription plans
- **Plan comparison** - Compare features across plans
- **Plan selection** - Choose new subscription plan
- **Info messages** - Display plan-related notifications

### Payment Status Pages

**Route:** `/payment/success`, `/payment/cancel`

- **Success page** - Confirmation of successful payment
- **Cancel page** - Handle cancelled payment flow

---

## 12. User Management (Organization)

**Route:** `/user-management`

### Functionalities

- **User table** - List all organization users
- **Add users** - Invite new users to organization
- **Manage users** - Edit user details and status
- **Plan limits info** - Display allowed users per plan
- **Breadcrumb navigation** - Organization-level navigation

---

## 13. Utility Screens

### Report Issue

**Route:** `/report-issue`

- **Report table** - View submitted issue reports
- **Search reports** - Search through reports
- **Report form sidebar** - Submit new issues (related to Request, User Access, or Billing)

### Demo Video

**Route:** `/demo-video`

- **Video gallery** - Display instructional videos
- **Video player cards** - Play demo videos
- **Skip button** - Skip walkthrough for returning users
- **Walkthrough tracking** - Track user video completion

### Access Restricted

**Route:** `/access-restricted`

- **Access denied message** - Display when user lacks permissions

### No Organization Access

**Route:** `/no-org-access`

- **Organization access denied** - Display when user has no org access

### Not Found (404)

- **404 page** - Display for invalid routes

### OAuth Callback

**Route:** `/oauth-callback`

- **OAuth handler** - Process OAuth authentication callbacks
- **Token management** - Handle authentication tokens

---

## Access Control Summary

The application implements role-based access control (RBAC) with permissions including:

| Permission Key | Description |
|----------------|-------------|
| `requests.create` | Create new requests |
| `requests.read.own` | View own requests |
| `requests.read.shared` | View shared requests |
| `requests.interaction.upload` | Upload files to requests |
| `chat.session.create` | Create chat sessions |
| `dataroom.read` | View data rooms |
| `dataroom.create.default` | Create standard data rooms |
| `dataroom.create.vector` | Create vector-indexed data rooms |
| `teams.members.list` | View team members |
| `teams.roles.menu` | Access role management |
| `teams.roles.update` | Update roles |
| `teams.roles.delete` | Delete roles |

---

## Technical Stack

- **Framework:** Next.js 14 (App Router)
- **UI Components:** PrimeReact, styled-components
- **State Management:** Zustand
- **Authentication:** NextAuth.js (Microsoft Azure AD, Google OAuth)
- **Workflow Editor:** React Flow
- **Icons:** Lucide React
- **Data Tables:** PrimeReact DataTable

---

*Last Updated: December 2024*
